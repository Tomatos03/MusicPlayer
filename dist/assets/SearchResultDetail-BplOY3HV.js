import{r as x}from"./request-qcfbbcHn.js";import{r as v,a as r,c as o,b as a,t as c,d as $,q as O,y as q,o as I,z as L,h as A,f as C,g as R,x as W,e as k,F as g,l as N,p as E,k as F,A as T,B as P}from"./index-Cmw_d75W.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as z,A as B}from"./MVCard-D1IeQij6.js";import{a as G}from"./utils-B4ujTfZE.js";import"./province-mXtWvQn7.js";const H={class:"avatar"},J=["src"],K={style:{"font-size":"1.1em"}},Q={key:0},X={key:1},Y={__name:"UserCard",props:{user:{type:[Object,Array],required:!0}},setup(u){const e=u,t=v([]),i=()=>{t.value.classList.add("active")},d=()=>{t.value.classList.remove("active")};return(n,s)=>(r(),o("div",{class:"user-card",ref_key:"userCardRef",ref:t,onMouseover:i,onMouseout:d},[a("div",H,[a("img",{src:e.user.img1v1Url||e.user.avatarUrl},null,8,J),s[0]||(s[0]=a("i",{class:"iconfont icon-play"},null,-1))]),a("h4",K,c(e.user.name||e.user.nickname),1),e.user.albumSize?(r(),o("p",Q," 专辑数量："+c(e.user.albumSize),1)):e.user.signature?(r(),o("p",X,c(e.user.signature),1)):$("",!0)],544))}},V=b(Y,[["__scopeId","data-v-de93565d"]]),Z={class:"song-img"},j=["src"],ee={class:"song-info"},te={class:"song-name"},ae={class:"song-authors"},se={__name:"SongCard",props:{song:{type:[Object,Array],required:!0}},setup(u){const e=u,t=v(null),i=()=>{t.value.classList.add("active")},d=()=>{t.value.classList.remove("active")};return(n,s)=>(r(),o("div",{class:"song-card",ref_key:"songCardRef",ref:t,onMouseover:i,onMouseout:d},[a("div",Z,[a("img",{src:e.song.al.picUrl,alt:"img"},null,8,j),s[0]||(s[0]=a("i",{class:"iconfont icon-play"},null,-1))]),a("div",ee,[a("div",te,c(e.song.name),1),a("div",ae,c(O(G)(e.song.ar)),1)]),s[1]||(s[1]=a("div",{class:"song-btns"},[a("i",{class:"iconfont icon-download"}),a("i",{class:"iconfont icon-love0"}),a("i",{class:"iconfont icon-more"})],-1))],544))}},re=b(se,[["__scopeId","data-v-bdfb6f09"]]),oe={__name:"AdaptiveContainer",props:{itemMinWidth:{type:Number,required:!0}},setup(u){const e=v(null);let t=null;const i=()=>{if(!e.value||!e.value.children)return;const n=e.value.offsetWidth,s=e.value.children;let m=Math.floor(n/(u.itemMinWidth+20));m=Math.max(1,m),Array.from(s).forEach((h,S)=>{S<m?h.style.display="":h.style.display="none"})},d=()=>{t=new ResizeObserver(()=>i())};return q(()=>{d(),t.observe(e.value)}),I(()=>{t&&t.disconnect()}),(n,s)=>(r(),o("div",{class:"adaptive-container",ref_key:"adaptiveContainerRef",ref:e},[L(n.$slots,"content",{},void 0,!0)],512))}},ne=b(oe,[["__scopeId","data-v-2a1b5131"]]),le={class:"search-result-detail"},ie={style:{"font-size":"1.5em"}},ce={key:0,class:"title"},ue={__name:"SearchResultDetail",setup(u){const e=v(null),t=v(null),i=[{label:"综合",components:[{title:"单曲",name:re,parrentContainer:"song-card-container",dataSource:"song.songs",propName:"song",root:e},{title:"MV",name:z,parrentContainer:"mv-card-container",dataSource:"mvs",propName:"mv",root:t},{title:"歌手",name:V,parrentContainer:"singer-card-container",dataSource:"artist.artists",propName:"user",root:e},{title:"专辑",name:B,parrentContainer:"album-card-container",dataSource:"album.albums",propName:"album",root:e},{title:"用户",name:V,parrentContainer:"user-card-container",dataSource:"user.users",propName:"user",root:e}]},{label:"歌手",components:[{title:null,name:V,parrentContainer:"singer-card-container",dataSource:"artist.artists",propName:"user",root:e}]},{label:"专辑",components:[{title:null,name:B,parrentContainer:"album-card-container",dataSource:"album.albums",propName:"album",root:e}]},{label:"MV",components:[{title:null,name:z,parrentContainer:"mv-card-container",dataSource:"mvs",propName:"mv",root:t}]}],n=W().params.content,s=v("0"),m=(p,_)=>p.split(".").reduce((f,M)=>f==null?void 0:f[M],_.value),h=async()=>{const p=await x("/search",{keywords:n,type:1018});e.value=p.data.result},S=async()=>{const p=await x("/search",{keywords:n,type:1004});t.value=p.data.result,console.log("MV搜索结果",t)};return h(),S(),(p,_)=>{const w=k("ArrowRightBold"),f=k("el-tab-pane"),M=k("el-tabs");return r(),o("div",le,[a("h1",ie,[A(c(O(n))+" ",1),_[1]||(_[1]=a("span",{style:{color:"#c3c3c3","font-size":"0.7em","font-weight":"normal"}},"的搜索结果如下：",-1))]),C(M,{modelValue:s.value,"onUpdate:modelValue":_[0]||(_[0]=y=>s.value=y)},{default:R(()=>[(r(),o(g,null,N(i,y=>C(f,{label:y.label},{default:R(()=>[(r(!0),o(g,null,N(y.components,l=>(r(),o(g,null,[m(l.dataSource,l.root)?(r(),o(g,{key:0},[l.title?(r(),o("div",ce,[A(c(l.title)+" ",1),C(w,{style:{width:"20px",height:"20px"}})])):$("",!0),C(ne,{class:E(l.parrentContainer),itemMinWidth:250},{content:R(()=>[(r(!0),o(g,null,N(m(l.dataSource,l.root),(D,U)=>(r(),F(P(l.name),T({key:U,[l.propName||""]:D}),null,16))),128))]),_:2},1032,["class"])],64)):$("",!0)],64))),256))]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])])}}},ge=b(ue,[["__scopeId","data-v-6a4910d3"]]);export{ge as default};
